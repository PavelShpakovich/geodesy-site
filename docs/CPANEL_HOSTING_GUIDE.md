# Руководство по cPanel и хостингу domain.by

## Обзор

**cPanel** — это панель управления веб-хостингом. Через неё ты управляешь сайтом, почтой, базами данных и файлами на сервере.

**Твой хостинг:**

- **Провайдер:** domain.by (Беларусь)
- **Тип:** Shared hosting (общий хостинг)
- **Панель:** cPanel
- **Сервер:** s6.domain.by (IP: 93.84.119.241)

---

## Разделы cPanel

### 📧 Почта

| Инструмент                  | Описание                                             |
| --------------------------- | ---------------------------------------------------- |
| **Почтовые учетные записи** | Создание email адресов (например, info@mygeodesy.by) |
| **Правила пересылки**       | Перенаправление писем на другой адрес                |
| **Автоответчики**           | Автоматические ответы (отпуск, уведомления)          |
| **Спам-фильтры**            | Настройка фильтрации спама                           |
| **Отслеживание отправки**   | Логи отправленных писем                              |

**Как создать почту:**

1. Почтовые учетные записи → Создать
2. Указать имя (info, contact, support)
3. Задать пароль
4. Готово! Почта: info@mygeodesy.by

**Доступ к почте:**

- Веб-интерфейс: https://webmail.mygeodesy.by
- Или настроить в почтовом клиенте (Outlook, Mail, Thunderbird)

---

### 📁 Файлы

| Инструмент                  | Описание                                                 |
| --------------------------- | -------------------------------------------------------- |
| **Менеджер файлов**         | Просмотр и редактирование файлов на сервере (как Finder) |
| **Использование диска**     | Сколько места занято                                     |
| **Учетные записи FTP**      | Дополнительные FTP-аккаунты                              |
| **Создать резервную копию** | Бэкап всего сайта                                        |
| **Git Version Control**     | Управление Git репозиториями (нам не нужен)              |

**Важные папки:**

```
/home2/mygeodes/
├── public_html/          ← Корень сайта (сюда загружаем файлы)
│   ├── index.html        ← Главная страница
│   ├── .htaccess         ← Конфигурация Apache
│   └── api/contact.php   ← PHP обработчик форм
├── mail/                 ← Почтовые ящики
├── logs/                 ← Логи доступа и ошибок
├── ssl/                  ← SSL сертификаты
└── tmp/                  ← Временные файлы
```

**Советы по Менеджеру файлов:**

- Включи "Показать скрытые файлы" в настройках (чтобы видеть .htaccess)
- Можно редактировать файлы прямо в браузере
- Загружай ZIP архивы и распаковывай на сервере (быстрее чем много файлов)

---

### 🗄️ Базы данных

| Инструмент              | Описание                         |
| ----------------------- | -------------------------------- |
| **phpMyAdmin**          | Веб-интерфейс для работы с MySQL |
| **Manage My Databases** | Создание/удаление баз данных     |
| **Database Wizard**     | Пошаговое создание БД            |

**Для твоего сайта база данных НЕ нужна** — это статический сайт, контент берётся из Contentful.

---

### 🌐 Домены

| Инструмент          | Описание                        |
| ------------------- | ------------------------------- |
| **Домены**          | Управление доменами на аккаунте |
| **Перенаправления** | Редиректы (301, 302)            |
| **Редактор зоны**   | DNS записи (A, CNAME, TXT, MX)  |

**Редактор зоны — важно!**

Здесь добавляются:

- **A записи** — указывают домен на IP сервера
- **TXT записи** — верификация (Google, Yandex, SPF)
- **MX записи** — настройка почты
- **CNAME записи** — алиасы доменов

---

### 📊 Метрики

| Инструмент                 | Описание                      |
| -------------------------- | ----------------------------- |
| **Посетители**             | Статистика посещений          |
| **AWStats**                | Детальная аналитика           |
| **Ошибки**                 | Лог ошибок сервера (404, 500) |
| **Использование ресурсов** | CPU, память, I/O              |

**Для аналитики лучше использовать:**

- Яндекс.Метрика
- Google Analytics

Они дают больше данных чем встроенная статистика.

---

### 🔒 Безопасность

| Инструмент         | Описание                                    |
| ------------------ | ------------------------------------------- |
| **SSL/TLS**        | Управление сертификатами                    |
| **SSL/TLS Status** | Статус AutoSSL (автоматические сертификаты) |
| **Доступ по SSH**  | Терминал (если включен)                     |
| **Блокиратор IP**  | Заблокировать IP адреса                     |
| **ModSecurity**    | Веб-фаервол (WAF)                           |
| **ImunifyAV**      | Антивирус                                   |

**SSL сертификаты:**

- AutoSSL автоматически выпускает и обновляет Let's Encrypt сертификаты
- Обновляются каждые 90 дней автоматически
- Если что-то сломалось — нажми "Run AutoSSL" в SSL/TLS Status

---

### ⚙️ Программное обеспечение

| Инструмент            | Описание                                          |
| --------------------- | ------------------------------------------------- |
| **Выбор версии PHP**  | Переключение версии PHP (7.4, 8.0, 8.1, 8.2, 8.3) |
| **Менеджер MultiPHP** | PHP настройки для разных доменов                  |
| **Настройка Node.js** | Node.js приложения (не для статики)               |
| **Softaculous**       | Установка CMS в 1 клик (WordPress, Joomla)        |

**Версия PHP:**
Для `contact.php` нужен PHP 7.4+ (лучше 8.1 или 8.2).
Проверь в "Выбор версии PHP" что стоит актуальная версия.

---

### 🔧 Расширенный

| Инструмент             | Описание                      |
| ---------------------- | ----------------------------- |
| **Terminal**           | SSH терминал в браузере       |
| **Задания cron**       | Запуск скриптов по расписанию |
| **Страницы ошибок**    | Кастомные 404, 500 страницы   |
| **Обработчики Apache** | Настройка обработки файлов    |

**Задания cron — полезно для:**

- Очистка временных файлов
- Отправка отчётов
- Автоматические задачи

---

## Типы хостинга

### Shared Hosting (твой случай)

```
┌─────────────────────────────────────┐
│           Физический сервер         │
├─────────┬─────────┬─────────┬───────┤
│ Сайт A  │ Сайт B  │ Твой    │ ...   │
│         │         │ сайт    │       │
└─────────┴─────────┴─────────┴───────┘
```

**Плюсы:**

- ✅ Дёшево (~$3-10/мес)
- ✅ Просто управлять через cPanel
- ✅ SSL, почта, бэкапы включены

**Минусы:**

- ❌ Ресурсы делятся с другими сайтами
- ❌ Ограничения по CPU/памяти
- ❌ Нет root доступа

### VPS (Virtual Private Server)

```
┌─────────────────────────────────────┐
│           Физический сервер         │
├─────────────────┬───────────────────┤
│    VPS 1        │      VPS 2        │
│  (твой)         │   (другой)        │
│  ┌───────────┐  │                   │
│  │ Ubuntu    │  │                   │
│  │ nginx     │  │                   │
│  │ Node.js   │  │                   │
│  └───────────┘  │                   │
└─────────────────┴───────────────────┘
```

**Плюсы:**

- ✅ Выделенные ресурсы
- ✅ Root доступ (полный контроль)
- ✅ Можно ставить любой софт

**Минусы:**

- ❌ Дороже ($10-50/мес)
- ❌ Нужно самому настраивать сервер
- ❌ Сам отвечаешь за безопасность

### Dedicated Server

Целый физический сервер только для тебя.

- Для очень больших проектов
- $100-500+/мес

### Cloud/PaaS (Vercel, Netlify)

```
┌──────────────────────────────────────┐
│         Облачная платформа           │
│  ┌────────┐  ┌────────┐  ┌────────┐  │
│  │ Edge   │  │ Edge   │  │ Edge   │  │
│  │ Минск  │  │ Москва │  │ Берлин │  │
│  └────────┘  └────────┘  └────────┘  │
│         Твой сайт везде              │
└──────────────────────────────────────┘
```

**Плюсы:**

- ✅ Автомасштабирование
- ✅ CDN из коробки (быстро везде)
- ✅ CI/CD интеграция
- ✅ Serverless функции

**Минусы:**

- ❌ Нет контроля над сервером
- ❌ Может быть дорого при большом трафике
- ❌ Не подходит для Беларуси (требование локального хостинга)

---

## Архитектура твоего хостинга

```
                    Интернет
                       │
                       ▼
              ┌────────────────┐
              │     nginx      │  ← Принимает запросы, SSL
              │  (фронтенд)    │
              └───────┬────────┘
                      │
              ┌───────▼────────┐
              │    Apache      │  ← Обрабатывает PHP, .htaccess
              │   (бэкенд)     │
              └───────┬────────┘
                      │
         ┌────────────┼────────────┐
         │            │            │
         ▼            ▼            ▼
   ┌──────────┐ ┌──────────┐ ┌──────────┐
   │  HTML    │ │   CSS    │ │   PHP    │
   │ (статика)│ │   JS     │ │ (формы)  │
   └──────────┘ └──────────┘ └──────────┘
```

**nginx** — быстро отдаёт статику (HTML, CSS, JS, картинки)
**Apache** — обрабатывает PHP и читает .htaccess

---

## Важные файлы

### .htaccess

Конфигурация Apache. Влияет на:

- Редиректы (HTTP → HTTPS)
- Кэширование
- Сжатие (gzip)
- Безопасность (headers)
- Кастомные страницы ошибок

```apache
# Пример: редирект на HTTPS
RewriteEngine On
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
```

### robots.txt

Указывает поисковикам что индексировать:

```
User-agent: *
Allow: /
Sitemap: https://mygeodesy.by/sitemap.xml
```

### sitemap.xml

Карта сайта для поисковиков. Генерируется автоматически при сборке.

---

## Лимиты shared хостинга

| Ресурс                | Типичный лимит              |
| --------------------- | --------------------------- |
| Дисковое пространство | 5-50 GB                     |
| Трафик                | Безлимит или 100-500 GB/мес |
| CPU                   | 1-2 ядра (shared)           |
| RAM                   | 512MB - 2GB                 |
| PHP процессы          | 5-20 одновременно           |
| Email аккаунты        | 10-100                      |
| Базы данных           | 5-20                        |

Для статического сайта этого более чем достаточно!

---

## Частые проблемы и решения

### Сайт не открывается

1. Проверь DNS: `dig mygeodesy.by`
2. Проверь что файлы в `public_html/`
3. Проверь что есть `index.html`

### 500 Internal Server Error

1. Проверь логи: Метрики → Ошибки
2. Проверь .htaccess на синтаксические ошибки
3. Проверь права на файлы (должны быть 644 для файлов, 755 для папок)

### 404 Not Found

1. Проверь что файл существует
2. Проверь путь (регистр важен!)
3. Проверь .htaccess правила

### Формы не работают

1. Проверь что `api/contact.php` существует
2. Проверь версию PHP (нужна 7.4+)
3. Посмотри логи ошибок PHP

### SSL не работает

1. SSL/TLS Status → Run AutoSSL
2. Подожди 5-10 минут
3. Очисти кэш браузера

### Письма не доходят

1. Проверь Отслеживание отправки
2. Проверь спам-папку получателя
3. Добавь SPF запись в DNS:
   ```
   v=spf1 +a +mx +ip4:93.84.119.241 ~all
   ```

---

## Бэкапы

### Автоматические (если включены)

Хостинг делает бэкапы раз в день/неделю.
Восстановление через техподдержку.

### Ручные

1. Создать резервную копию → Полная резервная копия
2. Скачай ZIP файл
3. Храни в безопасном месте

**Для твоего сайта:**

- Код хранится в GitHub — это твой бэкап
- Контент в Contentful — там свои бэкапы
- Достаточно бэкапить только `contact.php` и `.htaccess`

---

## Полезные команды (если есть SSH)

```bash
# Проверить версию PHP
php -v

# Проверить место на диске
du -sh public_html/

# Найти большие файлы
find public_html/ -size +10M

# Проверить права
ls -la public_html/

# Исправить права
chmod 644 public_html/*.html
chmod 755 public_html/api/
```

---

## Контакты поддержки

**domain.by:**

- Сайт: https://domain.by
- Личный кабинет: https://my.domain.by
- Телефон: +375 (17) 336-06-06

При обращении указывай:

- Логин: mygeodes
- Домен: mygeodesy.by

---

## Чеклист после настройки

- [x] SSL сертификат установлен
- [x] Сайт открывается по HTTPS
- [ ] Создать почту info@mygeodesy.by (опционально)
- [ ] Добавить SPF запись для почты (если нужна)
- [ ] Настроить бэкапы
- [ ] Сохранить доступы в надёжном месте
